{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createContext, useState, useEffect } from \"react\";\nimport netlifyIdentity from \"netlify-identity-widget\"; // using global context to log in/out user anywhere in the app\n\nvar AuthContext = /*#__PURE__*/createContext({\n  user: null,\n  login: function login() {},\n  logout: function logout() {},\n  authReady: false // false until user credentials has been validated\n\n});\nexport var AuthContextProvider = function AuthContextProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(null),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  useEffect(function () {\n    //   login event listener\n    netlifyIdentity.on(\"login\", function (user) {\n      setUser(user);\n      netlifyIdentity.close();\n      console.log(\"login event\");\n    }); // init netlify identity connection\n\n    netlifyIdentity.init();\n  }, []); // fire function once because of []\n  // we just need once to verify user\n\n  var login = function login() {\n    // opens modal with signup/login form\n    netlifyIdentity.open();\n  };\n\n  var loginInfo = {\n    // user: user,\n    // login: login,\n    user: user,\n    login: login // since both property & value pairs are the same, we don't have to repeat the name\n\n  };\n  return /*#__PURE__*/_jsx(AuthContext.Provider, {\n    value: loginInfo,\n    children: children\n  });\n};\nexport default AuthContext; // create context with default state\n// create Provider function to keep track of passed-in values\n//          then pass anywhere via the \"returhned\" AuthContext.Provider\n//          our {children} is everything it wraps in \"_appjs\" which is:\n//                  <Layout>\n//                      <Component {...pageProps} />;\n//                  </Layout >\n//          our component will now receive the value via useContext","map":null,"metadata":{},"sourceType":"module"}